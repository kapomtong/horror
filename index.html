<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>‡∏ß‡∏±‡∏ô(‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ)‡πÄ‡∏Å‡∏¥‡∏î | OFFICIAL </title>
    
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@400;600&family=Chonburi&family=Mitr:wght@300;500&family=Prompt:wght@300;400;600&display=swap" rel="stylesheet">
    
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

    <style>
        /* --- CORE THEME --- */
        :root { --red: #ff0000; --dark: #050505; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; scroll-behavior: smooth; outline: none; }
        
        body { 
            margin: 0; background: var(--dark); color: #fff; 
            font-family: 'Prompt', sans-serif; font-weight: 300;
            overflow-x: hidden; line-height: 1.6; user-select: none;
        }

        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }

        .bg-fixed { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: linear-gradient(to bottom, rgba(0,0,0,0.5), rgba(0,0,0,1)), url('bg.jpg') center/cover no-repeat; 
            z-index: -2; 
        }

        /* --- GLITCH ANIMATION --- */
        .hero { height: 90vh; display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 20px; position: relative; }
        
        .glitch {
            font-family: 'Chonburi', cursive;
            font-size: clamp(3rem, 12vw, 7rem); margin: 0; color: #fff; position: relative;
            text-shadow: 0 0 10px rgba(255,255,255,0.2);
            transition: text-shadow 0.1s;
            will-change: transform, text-shadow;
        }

        .glitch.active {
            animation: shake-gpu 0.2s infinite;
            text-shadow: 2px 2px var(--red), -2px -2px #0ff;
        }

        .glitch span { color: var(--red); transition: 0.1s; }
        .glitch.active span { color: #fff; text-shadow: 0 0 20px var(--red); }

        .glitch::before, .glitch::after {
            content: attr(data-text); position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0;
            background: var(--dark);
        }
        .glitch.active::before { 
            color: #0ff; z-index: -1; opacity: 0.8; 
            transform: translate3d(-3px, 0, 0);
        }
        .glitch.active::after { 
            color: #f00; z-index: -2; opacity: 0.8; 
            transform: translate3d(3px, 0, 0);
        }

        @keyframes shake-gpu {
            0% { transform: translate3d(0, 0, 0); }
            25% { transform: translate3d(-3px, 3px, 0); }
            50% { transform: translate3d(3px, -3px, 0); }
            75% { transform: translate3d(-2px, -2px, 0); }
            100% { transform: translate3d(0, 0, 0); }
        }

        .synopsis { max-width: 700px; margin: 25px auto; color: #ddd; font-size: 1.1rem; text-shadow: 0 2px 5px rgba(0,0,0,0.8); }
        .btn-watch { background: rgba(220, 0, 0, 0.9); color: #fff; border: 1px solid var(--red); padding: 15px 50px; font-size: 1.3rem; border-radius: 50px; cursor: pointer; transition: 0.4s; backdrop-filter: blur(5px); box-shadow: 0 0 20px rgba(255,0,0,0.4); font-family: 'Prompt'; }
        .btn-watch:hover { background: var(--red); box-shadow: 0 0 50px var(--red); transform: scale(1.05); }

        /* --- CONTENT GRID --- */
        .container { max-width: 1200px; margin: 0 auto; padding: 60px 20px; }
        .section-header { font-family: 'Mitr'; font-size: 2.2rem; margin-bottom: 50px; display: flex; align-items: center; gap: 20px; color: #eee; }
        .section-header::after { content: ''; flex: 1; height: 1px; background: linear-gradient(90deg, var(--red), transparent); box-shadow: 0 0 10px var(--red); }
        .reveal { opacity: 0; transform: translateY(40px); transition: 0.8s; margin-bottom: 100px; }
        .reveal.active { opacity: 1; transform: translateY(0); }

        .grid, .gallery-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 30px; }
        
        .card { cursor: pointer; text-align: center; transition: 0.3s; }
        .card-img { width: 100%; aspect-ratio: 1/1; border-radius: 15px; overflow: hidden; border: 1px solid #333; margin-bottom: 15px; transition: 0.4s; position: relative; }
        .card-img img { width: 100%; height: 100%; object-fit: cover; filter: grayscale(1) contrast(1.1); transition: 0.5s; }
        .card:hover .card-img { border-color: var(--red); box-shadow: 0 0 30px rgba(255,0,0,0.3); transform: translateY(-5px); }
        .card:hover img { filter: grayscale(0); transform: scale(1.1); }
        .gal-item { border-radius: 12px; overflow: hidden; border: 1px solid #222; aspect-ratio: 16/9; transition: 0.4s; }
        .gal-item img { width: 100%; height: 100%; object-fit: cover; }

        /* --- JUMPSCARE SYSTEM --- */
        #jumpscareOverlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 99999; display: none;
            align-items: center; justify-content: center; overflow: hidden;
        }
        #jumpscareOverlay.active { display: flex; animation: flash-bg 0.1s infinite; }
        #scaryImg { width: 100%; height: 100%; object-fit: cover; animation: zoom-scare 0.2s infinite alternate; }
        @keyframes flash-bg { 0%, 100% { background: #000; } 50% { background: #500; } }
        @keyframes zoom-scare { from { transform: scale(1) rotate(0deg); } to { transform: scale(1.1) rotate(2deg); } }

        /* --- VIDEO PLAYER --- */
        .video-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; z-index: 10000; display: none; align-items: center; justify-content: center; }
        .video-overlay.active { display: flex; }
        .video-container { width: 100%; height: 100%; position: relative; display: flex; align-items: center; justify-content: center; background: #000; }
        .video-container video { width: 100%; max-height: 100vh; }
        .custom-controls { position: absolute; bottom: 0; left: 0; width: 100%; padding: 20px 30px 40px; background: linear-gradient(transparent, rgba(0,0,0,0.95)); opacity: 0; transition: 0.4s; display: flex; flex-direction: column; gap: 15px; }
        .video-container:hover .custom-controls, .video-container.show-ui .custom-controls { opacity: 1; }
        .progress-area { width: 100%; height: 8px; background: rgba(255,255,255,0.2); cursor: pointer; border-radius: 10px; }
        .progress-bar { height: 100%; background: var(--red); width: 0%; border-radius: 10px; box-shadow: 0 0 15px var(--red); }
        .control-buttons { display: flex; justify-content: center; gap: 40px; }
        .icon-btn { background: none; border: none; color: #fff; cursor: pointer; padding: 10px; opacity: 0.8; }
        .icon-btn:hover { color: var(--red); transform: scale(1.2); opacity: 1; }
        .icon-btn svg { width: 40px; height: 40px; fill: currentColor; }
        .close-player { position: absolute; top: 25px; right: 25px; color: #fff; cursor: pointer; z-index: 10001; background: rgba(0,0,0,0.6); padding: 8px 25px; border-radius: 30px; border: 1px solid rgba(255,255,255,0.2); backdrop-filter: blur(5px); font-family: 'Prompt'; }

        /* --- MODALS & ADMIN --- */
        .modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); display: none; align-items: center; justify-content: center; z-index: 20000; backdrop-filter: blur(5px); }
        .modal.active { display: flex; animation: zoomIn 0.3s ease-out; }
        @keyframes zoomIn { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        
        /* Modal Content ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô */
        .modal-content { background: #1a1a1a; padding: 40px; border-radius: 15px; width: 90%; max-width: 450px; text-align: center; border: 1px solid #333; box-shadow: 0 0 40px rgba(0,0,0,0.8); position: relative; }

        /* ========================================= */
        /* --- [NEW] BLOOD BIO EFFECT --- */
        /* ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏£‡∏≠‡∏ö‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ */
        /* ========================================= */
        .modal-content.bio-blood {
            border-color: #8a0303 !important; /* ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ‡∏Å‡∏£‡∏≠‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏î‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏´‡∏°‡∏π */
            box-shadow: 0 0 50px rgba(138, 3, 3, 0.8) !important; /* ‡πÄ‡∏á‡∏≤‡∏™‡∏µ‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏ü‡∏∏‡πâ‡∏á‡πÜ */
            overflow: visible !important; /* ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏ó‡∏∞‡∏•‡∏∏‡∏Å‡∏£‡∏≠‡∏ö‡πÑ‡∏î‡πâ */
        }

        /* ‡∏ä‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏™‡∏≤‡∏î‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢ (Splatter) */
        .modal-content.bio-blood::before {
            content: ''; position: absolute;
            top: -60px; left: -60px; right: -60px; bottom: -60px; /* ‡∏Ç‡∏¢‡∏≤‡∏¢‡πÉ‡∏´‡πâ‡πÉ‡∏´‡∏ç‡πà‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏£‡∏≠‡∏ö */
            z-index: -1; /* ‡∏≠‡∏¢‡∏π‡πà‡∏î‡πâ‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ */
            /* ‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ PNG ‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡∏™‡∏≤‡∏î‡πÅ‡∏ö‡∏ö‡πÇ‡∏õ‡∏£‡πà‡∏á‡πÉ‡∏™ */
            background: url('https://www.pngmart.com/files/16/Blood-Splatter-PNG-Clipart.png') center/contain no-repeat;
            opacity: 0; transform: scale(0.8);
            pointer-events: none; /* ‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡∏¥‡∏Å */
            animation: blood-splat-appear 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; /* ‡πÄ‡∏î‡πâ‡∏á‡∏î‡∏∂‡πã‡∏á */
        }

        /* ‡∏ä‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏Ñ‡∏£‡∏≤‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡πÑ‡∏´‡∏•‡∏¢‡πâ‡∏≠‡∏¢ (Drip) */
        .modal-content.bio-blood::after {
            content: ''; position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1;
            /* ‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ PNG ‡∏Ñ‡∏£‡∏≤‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡πÑ‡∏´‡∏• */
            background: url('https://pngimg.com/uploads/blood/blood_PNG6105.png') top center/cover no-repeat;
            opacity: 0;
            pointer-events: none;
            filter: brightness(0.7); /* ‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏Ñ‡∏•‡πâ‡∏≥‡πÜ ‡∏´‡∏•‡∏≠‡∏ô‡πÜ */
            animation: blood-drip-appear 3s ease-out forwards; /* ‡∏Ñ‡πà‡∏≠‡∏¢‡πÜ ‡πÑ‡∏´‡∏•‡∏°‡∏≤‡∏ä‡πâ‡∏≤‡πÜ */
        }

        @keyframes blood-splat-appear {
            to { opacity: 0.9; transform: scale(1.1); }
        }
        @keyframes blood-drip-appear {
            0% { opacity: 0; clip-path: inset(0 0 100% 0); } /* ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏°‡∏µ */
            100% { opacity: 0.6; clip-path: inset(0 0 0% 0); } /* ‡∏Ñ‡πà‡∏≠‡∏¢‡πÜ ‡πÄ‡∏ú‡∏¢‡∏•‡∏á‡∏°‡∏≤ */
        }
        /* ========================================= */

        #secretTrigger { position: fixed; top: 0; left: 0; width: 70px; height: 70px; z-index: 9999; cursor: default; }
        .hack-box h3 { color: var(--red); font-family: 'Chakra Petch'; margin-bottom: 30px; border-bottom: 2px solid var(--red); display: inline-block; font-size: 1.5rem; }
        .hack-input { background: transparent; border: none; border-bottom: 2px solid #444; width: 100%; color: #fff; font-size: 1.4rem; text-align: center; font-family: 'Prompt'; letter-spacing: 3px; padding: 10px; margin-bottom: 30px; }
        .hack-input:focus { border-color: var(--red); }
        .hack-btn { background: #222; color: #fff; border: 1px solid #444; padding: 12px 40px; font-family: 'Prompt'; cursor: pointer; border-radius: 5px; }
        .hack-btn:hover { background: var(--red); box-shadow: 0 0 20px var(--red); }
        .shake { animation: shake 0.4s both; }
        @keyframes shake { 10%, 90% { transform: translate3d(-1px, 0, 0); } 30%, 70% { transform: translate3d(-4px, 0, 0); } 50% { transform: translate3d(-4px, 0, 0); } }

        #adminPanel { position: fixed; top: 0; right: -100%; width: 100%; max-width: 500px; height: 100%; background: #101010; z-index: 50000; border-left: 4px solid var(--red); transition: 0.5s ease-in-out; overflow-y: auto; padding: 30px; box-shadow: -20px 0 60px rgba(0,0,0,0.9); }
        #adminPanel.open { right: 0; }
        .admin-box { background: #181818; padding: 25px; border-radius: 12px; margin-bottom: 30px; border: 1px solid #2a2a2a; }
        .admin-box h4 { margin: 0 0 20px; color: var(--red); font-family: 'Mitr'; font-weight: 500; font-size: 1.2rem; }
        
        input, textarea { width: 100%; background: #080808; border: 1px solid #333; color: #ccc; padding: 14px; margin-bottom: 12px; border-radius: 8px; font-family: 'Prompt'; }
        .btn-action { width: 100%; padding: 14px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin-top: 10px; font-family: 'Prompt'; }
        .btn-save { background: var(--red); color: #fff; box-shadow: 0 4px 15px rgba(255,0,0,0.3); }
        .btn-add { background: #333; color: #fff; }
        .list-row { display: flex; justify-content: space-between; align-items: center; background: #000; padding: 12px; margin-top: 8px; border-radius: 8px; border: 1px solid #222; font-size: 0.9rem; }
        .list-btn { padding: 5px 15px; margin-left: 8px; cursor: pointer; border-radius: 5px; border: none; font-size: 0.8rem; font-family: 'Prompt'; }
        .btn-edit { background: #2563eb; color: #fff; } .btn-del { background: #dc2626; color: #fff; }

        /* LIVE MONITOR STATUS */
        .user-dot { width: 10px; height: 10px; background: #0f0; border-radius: 50%; display: inline-block; margin-right: 10px; box-shadow: 0 0 10px #0f0; }
        .user-row { padding: 10px; border-bottom: 1px solid #333; font-size: 0.9rem; color: #aaa; display: flex; justify-content: space-between; cursor: pointer; transition: 0.2s; }
        .user-row:hover { background: #222; color: #fff; }
        .user-row.selected { background: rgba(255,0,0,0.2); border: 1px solid var(--red); color: var(--red); }

        /* MOBILE FIX */
        @media (max-width: 768px) {
            .grid, .gallery-grid { grid-template-columns: repeat(2, 1fr); gap: 15px; }
            .section-header { font-size: 1.8rem; }
            .card p { font-size: 0.9rem !important; }
            /* ‡∏•‡∏î‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏î‡πÉ‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏´‡∏ô‡πà‡∏≠‡∏¢ */
            .modal-content.bio-blood::before { top: -30px; left: -30px; right: -30px; bottom: -30px; }
        }
    </style>
</head>
<body>

    <div class="bg-fixed"></div>
    <div id="secretTrigger" ondblclick="openAuth()" onclick="clickCount()"></div>

    <div id="jumpscareOverlay">
        <img id="scaryImg" src="https://i.pinimg.com/originals/a0/62/7b/a0627b233a59df79b19d453005d54a93.jpg">
    </div>
    <audio id="screamSound" src="https://www.myinstants.com/media/sounds/scream_3.mp3"></audio>

    <section class="hero">
        <h1 class="glitch" data-text="‡∏ß‡∏±‡∏ô(‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ)‡πÄ‡∏Å‡∏¥‡∏î">‡∏ß‡∏±‡∏ô<span style="color:var(--red)">(‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ)</span>‡πÄ‡∏Å‡∏¥‡∏î</h1>
        <p class="synopsis">"‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á‡∏ö‡∏≤‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á... ‡πÅ‡∏•‡∏Å‡∏°‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏•‡∏°‡∏´‡∏≤‡∏¢‡πÉ‡∏à" ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏õ‡∏≤‡∏£‡πå‡∏ï‡∏µ‡πâ‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏°‡∏£‡∏†‡∏π‡∏°‡∏¥‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏≠‡∏≤‡∏Ñ‡∏∑‡∏ô ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏ß‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏Ç‡∏∏‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏´‡∏¢‡∏≤‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏î</p>
        <button class="btn-watch" onclick="openEpisodes()">‡∏£‡∏±‡∏ö‡∏ä‡∏°‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ</button>
    </section>

    <div class="container">
        <div class="reveal">
            <h2 class="section-header">‡∏ô‡∏±‡∏Å‡πÅ‡∏™‡∏î‡∏á <span style="font-size:0.6em; color:#666; margin-left:10px; font-weight:300;">/ THE CAST</span></h2>
            <div class="grid" id="castDisplay"></div>
        </div>
        <div class="reveal">
            <h2 class="section-header">‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô <span style="font-size:0.6em; color:#666; margin-left:10px; font-weight:300;">/ THE CREW</span></h2>
            <div class="grid" id="crewDisplay"></div>
        </div>
        <div class="reveal">
            <h2 class="section-header">‡πÅ‡∏Å‡∏•‡πÄ‡∏•‡∏≠‡∏£‡∏µ‡πà <span style="font-size:0.6em; color:#666; margin-left:10px; font-weight:300;">/ GALLERY</span></h2>
            <div class="gallery-grid" id="galleryDisplay"></div>
        </div>
    </div>

    <div id="videoOverlay" class="video-overlay">
        <div class="video-container" id="vContainer">
            <button class="close-player" onclick="closeVideo()">‚úï ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á</button>
            <video id="mainPlayer" playsinline ontimeupdate="updateProgress()"></video>
            <div class="custom-controls">
                <div class="progress-area" onclick="seek(event)"><div class="progress-bar" id="pBar"></div></div>
                <div class="control-buttons">
                    <button class="icon-btn" onclick="skip(-10)"><svg viewBox="0 0 24 24"><path d="M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z"/></svg></button>
                    <button class="icon-btn" onclick="togglePlay()"><svg id="playIcon" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg></button>
                    <button class="icon-btn" onclick="skip(10)"><svg viewBox="0 0 24 24"><path d="M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"/></svg></button>
                </div>
            </div>
        </div>
    </div>

    <div id="epModal" class="modal" onclick="if(event.target==this) this.classList.remove('active')">
        <div class="modal-content">
            <h3 style="color:var(--red); font-family:'Mitr'; font-size:1.5rem;">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏£‡∏±‡∏ö‡∏ä‡∏°</h3>
            <div id="epItems" style="display:grid; gap:12px; margin-top:20px;"></div>
        </div>
    </div>
    
    <div id="bioModal" class="modal" onclick="if(event.target==this) { this.classList.remove('active'); document.getElementById('bioContent').classList.remove('bio-blood'); }">
        <div class="modal-content" id="bioContent"></div>
    </div>
    
    <div id="authModal" class="modal">
        <div class="modal-content hack-box">
            <h3>‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢</h3>
            <input type="password" id="authInput" class="hack-input" placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô (4 ‡∏´‡∏•‡∏±‡∏Å)" maxlength="4">
            <div style="display:flex; justify-content:center; gap:10px;">
                <button class="hack-btn" onclick="checkPass()">‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Ñ</button>
                <button class="hack-btn" style="background:transparent; border:1px solid #555;" onclick="closeAuth()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            </div>
            <p id="authMsg" style="color:var(--red); font-family:'Prompt'; margin-top:20px; font-weight:bold;"></p>
        </div>
    </div>

    <div id="adminPanel">
        <h2 style="color:var(--red); font-family:'Chakra Petch'; margin-bottom:30px; display:flex; justify-content:space-between; align-items:center;">
            ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ (ADMIN)
            <span onclick="document.getElementById('adminPanel').classList.remove('open')" style="cursor:pointer; font-size:1.5rem; color:#fff;">&times;</span>
        </h2>
        
        <div class="admin-box" style="border-color: #0f0; box-shadow: 0 0 10px rgba(0,255,0,0.1);">
            <h4 style="color:#0f0;">üì° Live Monitor (<span id="onlineCount">0</span>)</h4>
            <p style="font-size:0.8rem; color:#888;">*‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏´‡∏¢‡∏∑‡πà‡∏≠ (Sniper Mode)</p>
            <div id="onlineList" style="max-height:150px; overflow-y:auto; background:#000; padding:10px; border-radius:5px; margin-bottom:15px;"></div>
            
            <hr style="border-color:#333; margin: 15px 0;">
            
            <h4 style="color:var(--red);">üíÄ Jumpscare Control</h4>
            <div id="targetDisplay" style="color:var(--red); font-weight:bold; margin-bottom:10px;">‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢: ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (ALL)</div>
            
            <input type="text" id="jumpImgUrl" placeholder="‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏£‡∏π‡∏õ‡∏ú‡∏µ (‡∏ß‡πà‡∏≤‡∏á‡πÑ‡∏ß‡πâ = ‡∏£‡∏π‡∏õ default)">
            <input type="text" id="jumpAudioUrl" placeholder="‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏Å‡∏£‡∏µ‡∏î‡∏£‡πâ‡∏≠‡∏á (mp3)">
            <button class="btn-action" style="background:var(--red); color:#fff; font-size:1.2rem; border:2px solid #fff;" onclick="triggerJumpscare()">‚ö†Ô∏è ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏•‡∏≠‡∏Å‡∏ú‡∏µ</button>
        </div>

        <div class="admin-box">
            <h4>üë§ ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡πÅ‡∏™‡∏î‡∏á</h4>
            <input type="hidden" id="a_id">
            <input type="number" id="a_o" placeholder="‡∏•‡∏≥‡∏î‡∏±‡∏ö" style="width:30%;"> 
            <input type="text" id="a_n" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô" style="width:68%;">
            <input type="text" id="a_r" placeholder="‡∏ä‡∏∑‡πà‡∏≠ - ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•‡∏à‡∏£‡∏¥‡∏á">
            <input type="text" id="a_p" placeholder="‡∏£‡∏±‡∏ö‡∏ö‡∏ó‡πÄ‡∏õ‡πá‡∏ô">
            <input type="text" id="a_i" placeholder="‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (URL)">
            <textarea id="a_b" placeholder="‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ / ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°" rows="3"></textarea>
            <button class="btn-action btn-save" onclick="saveData('actors')">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏±‡∏Å‡πÅ‡∏™‡∏î‡∏á</button>
            <div id="admActList"></div>
        </div>

        <div class="admin-box">
            <h4>üõ† ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô</h4>
            <input type="hidden" id="c_id">
            <input type="number" id="c_o" placeholder="‡∏•‡∏≥‡∏î‡∏±‡∏ö" style="width:30%;">
            <input type="text" id="c_n" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô" style="width:68%;">
            <input type="text" id="c_r" placeholder="‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á">
            <input type="text" id="c_i" placeholder="‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (URL)">
            <button class="btn-action btn-add" onclick="saveData('crews')">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô</button>
            <div id="admCrewList"></div>
        </div>

        <div class="admin-box">
            <h4>üé¨ ‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠ & ‡πÅ‡∏Å‡∏•‡πÄ‡∏•‡∏≠‡∏£‡∏µ‡πà</h4>
            <input type="text" id="v_t" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏≠‡∏ô"><input type="text" id="v_u" placeholder="‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠ (.mp4)">
            <button class="btn-action btn-add" style="margin-bottom:20px;" onclick="saveData('episodes')">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ß‡∏¥‡∏î‡∏µ‡πÇ‡∏≠</button>
            <div id="admEpList"></div>
            <hr style="border:0; border-top:1px solid #333; margin:20px 0;">
            <input type="number" id="g_o" placeholder="‡∏•‡∏≥‡∏î‡∏±‡∏ö" style="width:30%;">
            <input type="text" id="g_u" placeholder="‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÅ‡∏Å‡∏•‡πÄ‡∏•‡∏≠‡∏£‡∏µ‡πà (URL)" style="width:68%;">
            <button class="btn-action btn-add" onclick="saveData('gallery')">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</button>
            <div id="admGalList"></div>
        </div>
    </div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyD1Km9hq0DDpPiQMhAV7cP7lsCGu5Qi9RQ",
            authDomain: "horror-99a5f.firebaseapp.com",
            databaseURL: "https://horror-99a5f-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "horror-99a5f",
            storageBucket: "horror-99a5f.firebasestorage.app",
            messagingSenderId: "65957327428",
            appId: "1:65957327428:web:89f027bcb297194eeb4211"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();
        const DB_PATH = 'movie_final_v3';
        const MONITOR_PATH = 'presence/online';
        const CMD_PATH = 'system_commands/jumpscare';

        // --- PRESENCE SYSTEM ---
        let myDeviceId = localStorage.getItem('myDeviceId');
        if(!myDeviceId) {
            myDeviceId = 'user_' + Math.random().toString(36).substr(2, 9);
            localStorage.setItem('myDeviceId', myDeviceId);
        }
        
        const deviceType = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ? 'Mobile' : 'Desktop';
        const myRef = db.ref(`${MONITOR_PATH}/${myDeviceId}`);
        
        myRef.set({
            status: 'online',
            device: deviceType,
            lastSeen: firebase.database.ServerValue.TIMESTAMP
        });
        myRef.onDisconnect().remove();

        // --- ADMIN: TARGETING & MONITOR ---
        let targetUser = null;

        db.ref(MONITOR_PATH).on('value', snap => {
            const users = snap.val() || {};
            const userList = Object.entries(users);
            document.getElementById('onlineCount').innerText = userList.length;
            
            document.getElementById('onlineList').innerHTML = userList.map(([id, data]) => `
                <div class="user-row ${targetUser === id ? 'selected' : ''}" onclick="selectTarget('${id}')">
                    <span><span class="user-dot"></span> ${id.substr(0,10)}...</span>
                    <span>${data.device}</span>
                </div>
            `).join('');
        });

        function selectTarget(id) {
            if (targetUser === id) {
                targetUser = null;
                document.getElementById('targetDisplay').innerHTML = "‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢: ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (ALL)";
            } else {
                targetUser = id;
                document.getElementById('targetDisplay').innerHTML = `‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢: <span style="color:#fff; border-bottom:1px solid var(--red);">${id}</span> (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ñ‡∏ô‡∏ô‡∏µ‡πâ)`;
            }
            db.ref(MONITOR_PATH).once('value', snap => {
                document.querySelectorAll('.user-row').forEach(row => row.classList.remove('selected'));
                if(targetUser) {
                     const list = document.getElementById('onlineList');
                     Array.from(list.children).forEach(el => {
                         if(el.innerHTML.includes(id.substr(0,10))) el.classList.add('selected');
                     });
                }
            });
        }

        // --- JUMPSCARE LOGIC ---
        db.ref(CMD_PATH).on('value', snap => {
            const cmd = snap.val();
            if (cmd && cmd.timestamp) {
                const now = Date.now();
                if (now - cmd.timestamp < 5000) {
                    if (cmd.target === 'all' || cmd.target === myDeviceId) {
                        executeJumpscare(cmd.img, cmd.audio);
                    }
                }
            }
        });

        function executeJumpscare(imgUrl, audioUrl) {
            const overlay = document.getElementById('jumpscareOverlay');
            const img = document.getElementById('scaryImg');
            const audio = document.getElementById('screamSound');

            if(imgUrl) img.src = imgUrl;
            if(audioUrl) audio.src = audioUrl;

            overlay.classList.add('active');
            audio.play().catch(e => console.log('Interact first'));
            if(navigator.vibrate) navigator.vibrate([200, 100, 200, 100, 200]);

            setTimeout(() => { overlay.classList.remove('active'); }, 3000);
        }

        function triggerJumpscare() {
            const who = targetUser ? '‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å' : '‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô';
            if(!confirm(`‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏´‡∏•‡∏≠‡∏Å‡∏ú‡∏µ‡πÉ‡∏™‡πà "${who}" ?`)) return;
            
            const img = document.getElementById('jumpImgUrl').value;
            const audio = document.getElementById('jumpAudioUrl').value;
            
            db.ref(CMD_PATH).set({
                timestamp: firebase.database.ServerValue.TIMESTAMP,
                target: targetUser || 'all',
                img: img || '',
                audio: audio || ''
            });
        }

        // --- CORE DATA LOGIC ---
        const sortByOrder = (a, b) => (a[1].order || 999) - (b[1].order || 999);
        db.ref(DB_PATH).on('value', snap => {
            const data = snap.val() || {}; window.allData = data;
            
            const mkCard = (id, a, type) => `<div class="card" onclick="showBio('${type}', '${id}')"><div class="card-img"><img src="${a.img}"></div><p style="margin:0; font-weight:600;">${a.name}</p><p style="font-size:0.8rem; color:var(--red);">${a.role||''}</p></div>`;
            
            document.getElementById('castDisplay').innerHTML = data.actors ? Object.entries(data.actors).sort(sortByOrder).map(([i,a])=>mkCard(i,a,'actors')).join('') : '';
            document.getElementById('crewDisplay').innerHTML = data.crews ? Object.entries(data.crews).sort(sortByOrder).map(([i,c])=>mkCard(i,c,'crews')).join('') : '';
            document.getElementById('galleryDisplay').innerHTML = data.gallery ? Object.entries(data.gallery).sort(sortByOrder).map(([i,g])=>`<div class="gal-item"><img src="${g.url||g}"></div>`).join('') : '';
            document.getElementById('epItems').innerHTML = data.episodes ? Object.entries(data.episodes).map(([i,e])=>`<button class="btn-watch" style="width:100%; padding:12px; margin:0;" onclick="startVideo('${e.url}')">‚ñ∂ ${e.title}</button>`).join('') : '';

            const mkList = (arr, type) => arr.map(([id, x]) => `<div class="list-row"><span style="max-width:60%; overflow:hidden;">${x.order||'-'} : ${x.name || x.title || '‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û'}</span><div><button class="list-btn btn-edit" onclick="editItem('${type}','${id}')">‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button><button class="list-btn btn-del" onclick="del('${type}','${id}')">‡∏•‡∏ö</button></div></div>`).join('');
            
            document.getElementById('admActList').innerHTML = mkList(data.actors ? Object.entries(data.actors).sort(sortByOrder) : [], 'actors');
            document.getElementById('admCrewList').innerHTML = mkList(data.crews ? Object.entries(data.crews).sort(sortByOrder) : [], 'crews');
            document.getElementById('admEpList').innerHTML = mkList(data.episodes ? Object.entries(data.episodes) : [], 'episodes');
            document.getElementById('admGalList').innerHTML = mkList(data.gallery ? Object.entries(data.gallery).sort(sortByOrder) : [], 'gallery');
        });

        // --- GLITCH LOOP (NO LAG) ---
        function startGlitchLoop() {
            const title = document.querySelector('.glitch');
            function trigger() {
                const randomDelay = Math.floor(Math.random() * 3000) + 7000;
                setTimeout(() => {
                    title.classList.add('active');
                    setTimeout(() => {
                        title.classList.remove('active');
                        trigger(); 
                    }, 200); 
                }, randomDelay);
            }
            trigger();
        }
        startGlitchLoop();

        // --- VIDEO & PLAYER ---
        const vp = document.getElementById('mainPlayer');
        const vCont = document.getElementById('vContainer');
        const pBar = document.getElementById('pBar');
        let uiTimer;
        function showUI() { vCont.classList.add('show-ui'); clearTimeout(uiTimer); if(!vp.paused) uiTimer = setTimeout(() => vCont.classList.remove('show-ui'), 3000); }
        ['mousemove','touchstart','click'].forEach(e => vCont.addEventListener(e, showUI));
        function startVideo(url) { vp.src = url; document.getElementById('videoOverlay').classList.add('active'); document.getElementById('epModal').classList.remove('active'); vp.play(); showUI(); }
        function togglePlay() { if(vp.paused) { vp.play(); document.getElementById('playIcon').innerHTML = '<path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>'; } else { vp.pause(); document.getElementById('playIcon').innerHTML = '<path d="M8 5v14l11-7z"/>'; } }
        function skip(t) { vp.currentTime += t; }
        function closeVideo() { vp.pause(); document.getElementById('videoOverlay').classList.remove('active'); }
        function updateProgress() { pBar.style.width = (vp.currentTime / vp.duration) * 100 + '%'; }
        function seek(e) { e.stopPropagation(); const rect = e.currentTarget.getBoundingClientRect(); vp.currentTime = ((e.clientX - rect.left) / rect.width) * vp.duration; }

        // --- ADMIN FUNCTIONS ---
        function saveData(type) {
            const ref = db.ref(`${DB_PATH}/${type}`);
            const getVal = (id) => document.getElementById(id).value;
            let obj = {};
            if(type==='actors') obj = { order: Number(getVal('a_o')), name: getVal('a_n'), real: getVal('a_r'), role: getVal('a_p'), img: getVal('a_i'), bio: getVal('a_b') };
            else if(type==='crews') obj = { order: Number(getVal('c_o')), name: getVal('c_n'), role: getVal('c_r'), img: getVal('c_i') };
            else if(type==='gallery') obj = { order: Number(getVal('g_o')), url: getVal('g_u') };
            else if(type==='episodes') obj = { title: getVal('v_t'), url: getVal('v_u') };

            const id = document.getElementById(type === 'actors' ? 'a_id' : (type === 'crews' ? 'c_id' : ''));
            if(id && id.value) ref.child(id.value).update(obj); else ref.push(obj);
            
            document.querySelectorAll('input, textarea').forEach(i => { if(!i.id.includes('auth') && !i.id.includes('jump')) i.value = ''; });
            alert('‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à');
        }
        function editItem(type, id) {
            const d = window.allData[type][id];
            const setVal = (eid, val) => document.getElementById(eid).value = val || '';
            if(type==='actors') { setVal('a_id', id); setVal('a_o', d.order); setVal('a_n', d.name); setVal('a_r', d.real); setVal('a_p', d.role); setVal('a_i', d.img); setVal('a_b', d.bio); }
            else if(type==='crews') { setVal('c_id', id); setVal('c_o', d.order); setVal('c_n', d.name); setVal('c_r', d.role); setVal('c_i', d.img); }
            else if(type==='gallery') { setVal('g_o', d.order); setVal('g_u', d.url || d); alert('‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏•‡∏ö‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà'); }
            document.getElementById('adminPanel').classList.add('open');
        }
        function del(t, id) { if(confirm('‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏•‡∏ö?')) db.ref(`${DB_PATH}/${t}/${id}`).remove(); }
        
        // [MODIFIED] Show Bio with Blood Effect
        function showBio(type, id) {
            const a = window.allData[type][id];
            const bioBox = document.getElementById('bioContent');
            bioBox.innerHTML = `<img src="${a.img}" style="width:150px; height:150px; border-radius:50%; object-fit:cover; margin-bottom:20px; border:4px solid var(--red); box-shadow:0 0 25px rgba(255,0,0,0.5);"><h2 style="margin:0; font-family:'Mitr'; font-weight:500;">${a.real || a.name}</h2><p style="color:var(--red); font-weight:600; font-size:1.1rem; margin-top:5px;">${a.role || ''}</p><div style="color:#ddd; font-size:1rem; margin-top:20px; text-align:left; line-height:1.7; border-top:1px solid #333; padding-top:20px;">${a.bio || '‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•'}</div>`;
            bioBox.classList.add('bio-blood'); // Add blood effect class
            document.getElementById('bioModal').classList.add('active');
        }
        function openEpisodes() { document.getElementById('epModal').classList.add('active'); }

        // --- AUTH SYSTEM ---
        let cCount = 0;
        function clickCount() { cCount++; if(cCount >= 3) { openAuth(); cCount = 0; } }
        function openAuth() { document.getElementById('authModal').classList.add('active'); document.getElementById('authInput').focus(); }
        function closeAuth() { document.getElementById('authModal').classList.remove('active'); document.getElementById('authInput').value = ''; document.getElementById('authMsg').innerHTML = ''; }
        function checkPass() {
            const inp = document.getElementById('authInput');
            if(inp.value === '0909') {
                document.getElementById('authMsg').style.color='#0f0'; document.getElementById('authMsg').innerText='Access Granted';
                setTimeout(() => { closeAuth(); document.getElementById('adminPanel').classList.add('open'); }, 800);
            } else {
                document.getElementById('authMsg').style.color='var(--red)'; document.getElementById('authMsg').innerText='Access Denied';
                document.querySelector('.hack-box').classList.add('shake'); setTimeout(() => document.querySelector('.hack-box').classList.remove('shake'), 500);
            }
        }
        window.addEventListener('scroll', () => { document.querySelectorAll('.reveal').forEach(el => { if(el.getBoundingClientRect().top < window.innerHeight - 80) el.classList.add('active'); }); });
    </script>
</body>
</html>
